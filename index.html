<!DOCTYPE html>
<html>
<head>
    <title>Voucher System</title>
    <script>
        async function generateVoucher() {
            const username = document.getElementById("username").value;
            if (!username) {
                alert("Please enter a username");
                return;
            }

            const formData = new FormData();
            formData.append("username", username);

            const response = await fetch("/generate", {
                method: "POST",
                body: formData
            });

            const data = await response.json();
            if (data.voucher) {
                document.getElementById("voucherBox").innerText = "Voucher: " + data.voucher;
                document.getElementById("username").value = "";
            } else {
                alert(data.error || "Error generating voucher");
            }
        }
    </script>
</head>
<body>
    <h1>Voucher System</h1>
    <input type="text" id="username" placeholder="Enter username" />
    <button onclick="generateVoucher()">Generate</button>
    <div id="voucherBox" style="margin-top: 20px; font-weight: bold;"></div>
    <br>
    <a href="/admin">Go to Admin</a>
</body>
</html>
